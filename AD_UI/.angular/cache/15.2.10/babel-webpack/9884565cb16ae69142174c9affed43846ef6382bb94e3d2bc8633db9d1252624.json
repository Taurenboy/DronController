{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/socket.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/button\";\nconst _c0 = function (a1, a2) {\n  return {\n    \"celda\": true,\n    \"celda-llena\": a1,\n    \"celda-ocupada-incorrecta\": a2\n  };\n};\nfunction HomeComponent_tr_14_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"div\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const celda_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, ctx_r2.isGreen(celda_r3), ctx_r2.isRed(celda_r3)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getId(celda_r3), \" \");\n  }\n}\nfunction HomeComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, HomeComponent_tr_14_td_1_Template, 3, 5, \"td\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fila_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", fila_r1);\n  }\n}\nexport class HomeComponent {\n  constructor(socketService) {\n    this.socketService = socketService;\n    this.message = '';\n    this.rows = 20;\n    this.cols = 20;\n    this.tablero = [[' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ']];\n  }\n  sendMessage() {\n    this.socketService.sendMessage(this.message);\n    this.message = ''; // Limpia el campo de entrada\n  }\n\n  ngOnInit() {\n    this.socketService.onMessageReceived(message => {\n      // Maneja los mensajes recibidos del servidor\n      let newTablero = message.tempTablero;\n      console.log('Mensaje recibido:', message);\n      this.tablero = newTablero;\n    });\n  }\n  startDrones() {\n    this.socketService.startDronesApps();\n  }\n  startDronesMovement() {\n    this.socketService.startDroneMovement();\n  }\n  resetDronesPositions() {\n    this.socketService.resetDronesPositions();\n  }\n  moveDrones() {}\n  resetDronesPosition() {}\n  isGreen(celda) {\n    return celda.split(\"-\")[0] === 'X';\n  }\n  isRed(celda) {\n    return celda.split(\"-\")[0] === 'O';\n  }\n  getId(celda) {\n    return celda.split(\"-\")[1];\n  }\n  static #_ = this.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.SocketService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 15,\n    vars: 1,\n    consts: [[1, \"buttons-row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"table\")(1, \"tr\", 0)(2, \"td\")(3, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_3_listener() {\n          return ctx.startDrones();\n        });\n        i0.ɵɵtext(4, \"Start drones\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"td\")(6, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_6_listener() {\n          return ctx.startDronesMovement();\n        });\n        i0.ɵɵtext(7, \"Move drones\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"td\")(9, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_9_listener() {\n          return ctx.resetDronesPositions();\n        });\n        i0.ɵɵtext(10, \"Reset drones position\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"tr\")(12, \"td\")(13, \"table\");\n        i0.ɵɵtemplate(14, HomeComponent_tr_14_Template, 2, 1, \"tr\", 2);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tablero);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i3.MatButton],\n    styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 965:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nSassError: expected \\\\\\\"{\\\\\\\".\\\\n   \\u2577\\\\n15 \\u2502   a\\\\r\\\\n   \\u2502    ^\\\\n   \\u2575\\\\n  src\\\\\\\\app\\\\\\\\components\\\\\\\\home\\\\\\\\home.component.scss 15:4  root stylesheet\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[965]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","constructor","socketService","sendMessage","message","ngOnInit","onMessageReceived","newTablero","tempTablero","console","log","tablero","startDrones","startDronesApps","startDronesMovement","startDroneMovement","resetDronesPositions","moveDrones","resetDronesPosition","isGreen","celda","split","isRed","getId","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ingev\\Documents\\Desarrollo\\Luna\\DronController\\AD_UI\\src\\app\\components\\home\\home.component.html","C:\\Users\\ingev\\Documents\\Desarrollo\\Luna\\DronController\\AD_UI\\src\\app\\components\\home\\home.component.ts"],"sourcesContent":["<table>\n  <tr class=\"buttons-row\">\n    <td><button mat-raised-button color=\"primary\" (click)=\"startDrones()\">Start drones</button></td>\n    <td><button mat-raised-button color=\"primary\" (click)=\"startDronesMovement()\">Move drones</button></td>\n    <td><button mat-raised-button color=\"primary\" (click)=\"resetDronesPositions()\">Reset drones position</button></td>\n  </tr>\n  <tr>\n    <td>\n      <table>\n        <tr *ngFor=\"let fila of tablero\">\n          <td *ngFor=\"let celda of fila\">\n            <div [ngClass]=\"{ 'celda': true, 'celda-llena': isGreen(celda), 'celda-ocupada-incorrecta': isRed(celda)}\">\n              {{ getId(celda) }}\n            </div>\n          </td>\n        </tr>\n      </table>\n    </td>\n  </tr>\n</table>\n","import { Component } from '@angular/core';\nimport { io } from 'socket.io-client';\nimport { SocketService } from 'src/app/services/socket.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n})\nexport class HomeComponent {\n  message: string = '';\n\n  public rows: number = 20;\n\n  public cols: number = 20;\n\n  public tablero: string[][] = [\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n  ];\n\n  constructor(private socketService: SocketService) {}\n\n  sendMessage() {\n    this.socketService.sendMessage(this.message);\n    this.message = ''; // Limpia el campo de entrada\n  }\n\n  ngOnInit() {\n    this.socketService.onMessageReceived((message: any) => {\n      // Maneja los mensajes recibidos del servidor\n      let newTablero = message.tempTablero;\n      console.log('Mensaje recibido:', message);\n      this.tablero = newTablero;\n    });\n  }\n\n  startDrones() {\n    this.socketService.startDronesApps();\n  }\n\n  startDronesMovement() {\n    this.socketService.startDroneMovement();\n  }\n\n  resetDronesPositions() {\n    this.socketService.resetDronesPositions();\n  }\n\n  moveDrones() {}\n\n  resetDronesPosition() {}\n\n  isGreen(celda:string): boolean {\n    return celda.split(\"-\")[0] === 'X'\n  }\n\n  isRed(celda:string): boolean {\n    return celda.split(\"-\")[0] === 'O'\n  }\n\n  getId(celda:string): string {\n    return celda.split(\"-\")[1]\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}