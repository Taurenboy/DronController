{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/socket.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/button\";\nconst _c0 = function (a1, a2) {\n  return {\n    \"celda\": true,\n    \"celda-llena\": a1,\n    \"celda-ocupada-incorrecta\": a2\n  };\n};\nfunction HomeComponent_tr_15_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"div\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const celda_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, ctx_r2.isGreen(celda_r3), ctx_r2.isRed(celda_r3)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getId(celda_r3), \" \");\n  }\n}\nfunction HomeComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, HomeComponent_tr_15_td_1_Template, 3, 5, \"td\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fila_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", fila_r1);\n  }\n}\nexport class HomeComponent {\n  constructor(socketService) {\n    this.socketService = socketService;\n    this.message = '';\n    this.rows = 20;\n    this.cols = 20;\n    this.tablero = [[' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ']];\n  }\n  sendMessage() {\n    this.socketService.sendMessage(this.message);\n    this.message = ''; // Limpia el campo de entrada\n  }\n\n  ngOnInit() {\n    this.socketService.onMessageReceived(message => {\n      // Maneja los mensajes recibidos del servidor\n      let newTablero = message.tempTablero;\n      console.log('Mensaje recibido:', message);\n      this.tablero = newTablero;\n    });\n  }\n  startDrones() {\n    this.socketService.startDronesApps();\n  }\n  startDronesMovement() {\n    this.socketService.startDroneMovement();\n  }\n  resetDronesPositions() {\n    this.socketService.resetDronesPositions();\n  }\n  isGreen(celda) {\n    return celda.split(\"-\")[0] === '';\n  }\n  isRed(celda) {\n    return celda.split(\"-\")[0] === 'O';\n  }\n  getId(celda) {\n    return celda.split(\"-\")[1];\n  }\n  static #_ = this.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.SocketService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 16,\n    vars: 1,\n    consts: [[1, \"center-content\"], [1, \"buttons-row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\")(2, \"tr\", 1)(3, \"td\")(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_4_listener() {\n          return ctx.startDrones();\n        });\n        i0.ɵɵtext(5, \"Start drones\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"td\")(7, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_7_listener() {\n          return ctx.startDronesMovement();\n        });\n        i0.ɵɵtext(8, \"Move drones\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"td\")(10, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_10_listener() {\n          return ctx.resetDronesPositions();\n        });\n        i0.ɵɵtext(11, \"Reset drones position\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"tr\")(13, \"td\", 0)(14, \"table\");\n        i0.ɵɵtemplate(15, HomeComponent_tr_15_Template, 2, 1, \"tr\", 3);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tablero);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i3.MatButton],\n    styles: [\"table[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n}\\n\\n.buttons-row[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n\\n.center-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.celda[_ngcontent-%COMP%] {\\n  width: 30px;\\n  height: 30px;\\n  border: 1px solid #000;\\n  text-align: center;\\n  vertical-align: middle;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: #d2ddff;\\n}\\n\\n.celda-llena[_ngcontent-%COMP%] {\\n  background-color: #008709;\\n  color: #fff;\\n}\\n\\n.celda-ocupada-incorrecta[_ngcontent-%COMP%] {\\n  background-color: #c40404;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EseUJBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxufVxyXG5cclxuLmJ1dHRvbnMtcm93IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uY2VudGVyLWNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jZWxkYSB7XHJcbiAgd2lkdGg6IDMwcHg7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNkMmRkZmY7XHJcbn1cclxuXHJcbi5jZWxkYS1sbGVuYSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwODcwOTtcclxuICBjb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLmNlbGRhLW9jdXBhZGEtaW5jb3JyZWN0YSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2M0MDQwNDtcclxuICBjb2xvcjogI2ZmZjtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","constructor","socketService","sendMessage","message","ngOnInit","onMessageReceived","newTablero","tempTablero","console","log","tablero","startDrones","startDronesApps","startDronesMovement","startDroneMovement","resetDronesPositions","isGreen","celda","split","isRed","getId","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ingev\\Documents\\Desarrollo\\Luna\\DronController\\AD_UI\\src\\app\\components\\home\\home.component.html","C:\\Users\\ingev\\Documents\\Desarrollo\\Luna\\DronController\\AD_UI\\src\\app\\components\\home\\home.component.ts"],"sourcesContent":["<div class=\"center-content\">\n  <table>\n    <tr class=\"buttons-row\">\n      <td><button mat-raised-button color=\"primary\" (click)=\"startDrones()\">Start drones</button></td>\n      <td><button mat-raised-button color=\"primary\" (click)=\"startDronesMovement()\">Move drones</button></td>\n      <td><button mat-raised-button color=\"primary\" (click)=\"resetDronesPositions()\">Reset drones position</button></td>\n    </tr>\n    <tr>\n      <td class=\"center-content\">\n        <table>\n          <tr *ngFor=\"let fila of tablero\">\n            <td *ngFor=\"let celda of fila\">\n              <div [ngClass]=\"{ 'celda': true, 'celda-llena': isGreen(celda), 'celda-ocupada-incorrecta': isRed(celda)}\">\n                {{ getId(celda) }}\n              </div>\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n  </table>\n\n</div>\n","import { Component } from '@angular/core';\nimport { io } from 'socket.io-client';\nimport { SocketService } from 'src/app/services/socket.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n})\nexport class HomeComponent {\n  message: string = '';\n\n  public rows: number = 20;\n\n  public cols: number = 20;\n\n  public tablero: string[][] = [\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' '],\n  ];\n\n  constructor(private socketService: SocketService) {}\n\n  sendMessage() {\n    this.socketService.sendMessage(this.message);\n    this.message = ''; // Limpia el campo de entrada\n  }\n\n  ngOnInit() {\n    this.socketService.onMessageReceived((message: any) => {\n      // Maneja los mensajes recibidos del servidor\n      let newTablero = message.tempTablero;\n      console.log('Mensaje recibido:', message);\n      this.tablero = newTablero;\n    });\n  }\n\n  startDrones() {\n    this.socketService.startDronesApps();\n  }\n\n  startDronesMovement() {\n    this.socketService.startDroneMovement();\n  }\n\n  resetDronesPositions() {\n    this.socketService.resetDronesPositions();\n  }\n\n  isGreen(celda:string): boolean {\n    return celda.split(\"-\")[0] === ''\n  }\n\n  isRed(celda:string): boolean {\n    return celda.split(\"-\")[0] === 'O'\n  }\n\n  getId(celda:string): string {\n    return celda.split(\"-\")[1]\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}