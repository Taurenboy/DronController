{"ast":null,"code":"var _asyncToGenerator = require(\"C:/Users/ingev/Documents/Desarrollo/Luna/DronController/AD_UI/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nconst Decoder = require('../../../decoder');\nconst {\n  failure,\n  createErrorFromCode\n} = require('../../../error');\nconst ConfigSource = require('../../../configSource');\nconst ConfigResourceTypes = require('../../../configResourceTypes');\n\n/**\n * DescribeConfigs Response (Version: 0) => throttle_time_ms [resources]\n *   throttle_time_ms => INT32\n *   resources => error_code error_message resource_type resource_name [config_entries]\n *     error_code => INT16\n *     error_message => NULLABLE_STRING\n *     resource_type => INT8\n *     resource_name => STRING\n *     config_entries => config_name config_value read_only is_default is_sensitive\n *       config_name => STRING\n *       config_value => NULLABLE_STRING\n *       read_only => BOOLEAN\n *       is_default => BOOLEAN\n *       is_sensitive => BOOLEAN\n */\n\nconst decodeConfigEntries = (decoder, resourceType) => {\n  const configName = decoder.readString();\n  const configValue = decoder.readString();\n  const readOnly = decoder.readBoolean();\n  const isDefault = decoder.readBoolean();\n  const isSensitive = decoder.readBoolean();\n\n  /**\n   * Backporting ConfigSource value to v0\n   * @see https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/requests/DescribeConfigsResponse.java#L232-L242\n   */\n  let configSource;\n  if (isDefault) {\n    configSource = ConfigSource.DEFAULT_CONFIG;\n  } else {\n    switch (resourceType) {\n      case ConfigResourceTypes.BROKER:\n        configSource = ConfigSource.STATIC_BROKER_CONFIG;\n        break;\n      case ConfigResourceTypes.TOPIC:\n        configSource = ConfigSource.TOPIC_CONFIG;\n        break;\n      default:\n        configSource = ConfigSource.UNKNOWN;\n    }\n  }\n  return {\n    configName,\n    configValue,\n    readOnly,\n    isDefault,\n    configSource,\n    isSensitive\n  };\n};\nconst decodeResources = decoder => {\n  const errorCode = decoder.readInt16();\n  const errorMessage = decoder.readString();\n  const resourceType = decoder.readInt8();\n  const resourceName = decoder.readString();\n  const configEntries = decoder.readArray(decoder => decodeConfigEntries(decoder, resourceType));\n  return {\n    errorCode,\n    errorMessage,\n    resourceType,\n    resourceName,\n    configEntries\n  };\n};\nconst decode = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (rawData) {\n    const decoder = new Decoder(rawData);\n    const throttleTime = decoder.readInt32();\n    const resources = decoder.readArray(decodeResources);\n    return {\n      throttleTime,\n      resources\n    };\n  });\n  return function decode(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nconst parse = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(function* (data) {\n    const resourcesWithError = data.resources.filter(({\n      errorCode\n    }) => failure(errorCode));\n    if (resourcesWithError.length > 0) {\n      throw createErrorFromCode(resourcesWithError[0].errorCode);\n    }\n    return data;\n  });\n  return function parse(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  decode,\n  parse\n};","map":{"version":3,"names":["Decoder","require","failure","createErrorFromCode","ConfigSource","ConfigResourceTypes","decodeConfigEntries","decoder","resourceType","configName","readString","configValue","readOnly","readBoolean","isDefault","isSensitive","configSource","DEFAULT_CONFIG","BROKER","STATIC_BROKER_CONFIG","TOPIC","TOPIC_CONFIG","UNKNOWN","decodeResources","errorCode","readInt16","errorMessage","readInt8","resourceName","configEntries","readArray","decode","rawData","throttleTime","readInt32","resources","parse","data","resourcesWithError","filter","length","module","exports"],"sources":["C:/Users/ingev/Documents/Desarrollo/Luna/DronController/AD_UI/node_modules/kafkajs/src/protocol/requests/describeConfigs/v0/response.js"],"sourcesContent":["const Decoder = require('../../../decoder')\nconst { failure, createErrorFromCode } = require('../../../error')\nconst ConfigSource = require('../../../configSource')\nconst ConfigResourceTypes = require('../../../configResourceTypes')\n\n/**\n * DescribeConfigs Response (Version: 0) => throttle_time_ms [resources]\n *   throttle_time_ms => INT32\n *   resources => error_code error_message resource_type resource_name [config_entries]\n *     error_code => INT16\n *     error_message => NULLABLE_STRING\n *     resource_type => INT8\n *     resource_name => STRING\n *     config_entries => config_name config_value read_only is_default is_sensitive\n *       config_name => STRING\n *       config_value => NULLABLE_STRING\n *       read_only => BOOLEAN\n *       is_default => BOOLEAN\n *       is_sensitive => BOOLEAN\n */\n\nconst decodeConfigEntries = (decoder, resourceType) => {\n  const configName = decoder.readString()\n  const configValue = decoder.readString()\n  const readOnly = decoder.readBoolean()\n  const isDefault = decoder.readBoolean()\n  const isSensitive = decoder.readBoolean()\n\n  /**\n   * Backporting ConfigSource value to v0\n   * @see https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/requests/DescribeConfigsResponse.java#L232-L242\n   */\n  let configSource\n  if (isDefault) {\n    configSource = ConfigSource.DEFAULT_CONFIG\n  } else {\n    switch (resourceType) {\n      case ConfigResourceTypes.BROKER:\n        configSource = ConfigSource.STATIC_BROKER_CONFIG\n        break\n      case ConfigResourceTypes.TOPIC:\n        configSource = ConfigSource.TOPIC_CONFIG\n        break\n      default:\n        configSource = ConfigSource.UNKNOWN\n    }\n  }\n\n  return {\n    configName,\n    configValue,\n    readOnly,\n    isDefault,\n    configSource,\n    isSensitive,\n  }\n}\n\nconst decodeResources = decoder => {\n  const errorCode = decoder.readInt16()\n  const errorMessage = decoder.readString()\n  const resourceType = decoder.readInt8()\n  const resourceName = decoder.readString()\n  const configEntries = decoder.readArray(decoder => decodeConfigEntries(decoder, resourceType))\n\n  return {\n    errorCode,\n    errorMessage,\n    resourceType,\n    resourceName,\n    configEntries,\n  }\n}\n\nconst decode = async rawData => {\n  const decoder = new Decoder(rawData)\n  const throttleTime = decoder.readInt32()\n  const resources = decoder.readArray(decodeResources)\n\n  return {\n    throttleTime,\n    resources,\n  }\n}\n\nconst parse = async data => {\n  const resourcesWithError = data.resources.filter(({ errorCode }) => failure(errorCode))\n  if (resourcesWithError.length > 0) {\n    throw createErrorFromCode(resourcesWithError[0].errorCode)\n  }\n\n  return data\n}\n\nmodule.exports = {\n  decode,\n  parse,\n}\n"],"mappings":";AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAC3C,MAAM;EAAEC,OAAO;EAAEC;AAAoB,CAAC,GAAGF,OAAO,CAAC,gBAAgB,CAAC;AAClE,MAAMG,YAAY,GAAGH,OAAO,CAAC,uBAAuB,CAAC;AACrD,MAAMI,mBAAmB,GAAGJ,OAAO,CAAC,8BAA8B,CAAC;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMK,mBAAmB,GAAG,CAACC,OAAO,EAAEC,YAAY,KAAK;EACrD,MAAMC,UAAU,GAAGF,OAAO,CAACG,UAAU,EAAE;EACvC,MAAMC,WAAW,GAAGJ,OAAO,CAACG,UAAU,EAAE;EACxC,MAAME,QAAQ,GAAGL,OAAO,CAACM,WAAW,EAAE;EACtC,MAAMC,SAAS,GAAGP,OAAO,CAACM,WAAW,EAAE;EACvC,MAAME,WAAW,GAAGR,OAAO,CAACM,WAAW,EAAE;;EAEzC;AACF;AACA;AACA;EACE,IAAIG,YAAY;EAChB,IAAIF,SAAS,EAAE;IACbE,YAAY,GAAGZ,YAAY,CAACa,cAAc;EAC5C,CAAC,MAAM;IACL,QAAQT,YAAY;MAClB,KAAKH,mBAAmB,CAACa,MAAM;QAC7BF,YAAY,GAAGZ,YAAY,CAACe,oBAAoB;QAChD;MACF,KAAKd,mBAAmB,CAACe,KAAK;QAC5BJ,YAAY,GAAGZ,YAAY,CAACiB,YAAY;QACxC;MACF;QACEL,YAAY,GAAGZ,YAAY,CAACkB,OAAO;IAAA;EAEzC;EAEA,OAAO;IACLb,UAAU;IACVE,WAAW;IACXC,QAAQ;IACRE,SAAS;IACTE,YAAY;IACZD;EACF,CAAC;AACH,CAAC;AAED,MAAMQ,eAAe,GAAGhB,OAAO,IAAI;EACjC,MAAMiB,SAAS,GAAGjB,OAAO,CAACkB,SAAS,EAAE;EACrC,MAAMC,YAAY,GAAGnB,OAAO,CAACG,UAAU,EAAE;EACzC,MAAMF,YAAY,GAAGD,OAAO,CAACoB,QAAQ,EAAE;EACvC,MAAMC,YAAY,GAAGrB,OAAO,CAACG,UAAU,EAAE;EACzC,MAAMmB,aAAa,GAAGtB,OAAO,CAACuB,SAAS,CAACvB,OAAO,IAAID,mBAAmB,CAACC,OAAO,EAAEC,YAAY,CAAC,CAAC;EAE9F,OAAO;IACLgB,SAAS;IACTE,YAAY;IACZlB,YAAY;IACZoB,YAAY;IACZC;EACF,CAAC;AACH,CAAC;AAED,MAAME,MAAM;EAAA,6BAAG,WAAMC,OAAO,EAAI;IAC9B,MAAMzB,OAAO,GAAG,IAAIP,OAAO,CAACgC,OAAO,CAAC;IACpC,MAAMC,YAAY,GAAG1B,OAAO,CAAC2B,SAAS,EAAE;IACxC,MAAMC,SAAS,GAAG5B,OAAO,CAACuB,SAAS,CAACP,eAAe,CAAC;IAEpD,OAAO;MACLU,YAAY;MACZE;IACF,CAAC;EACH,CAAC;EAAA,gBATKJ,MAAM;IAAA;EAAA;AAAA,GASX;AAED,MAAMK,KAAK;EAAA,8BAAG,WAAMC,IAAI,EAAI;IAC1B,MAAMC,kBAAkB,GAAGD,IAAI,CAACF,SAAS,CAACI,MAAM,CAAC,CAAC;MAAEf;IAAU,CAAC,KAAKtB,OAAO,CAACsB,SAAS,CAAC,CAAC;IACvF,IAAIc,kBAAkB,CAACE,MAAM,GAAG,CAAC,EAAE;MACjC,MAAMrC,mBAAmB,CAACmC,kBAAkB,CAAC,CAAC,CAAC,CAACd,SAAS,CAAC;IAC5D;IAEA,OAAOa,IAAI;EACb,CAAC;EAAA,gBAPKD,KAAK;IAAA;EAAA;AAAA,GAOV;AAEDK,MAAM,CAACC,OAAO,GAAG;EACfX,MAAM;EACNK;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}